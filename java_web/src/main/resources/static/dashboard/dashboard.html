<h1><a href="https://github.com/bfwg/springboot-jwt-starter">Springboot JWT Starter</a></h1>
<div ng-show="authenticated">
	<p>Welcome <b>{{user.firstName}} {{user.lastName}}</b></p>
	<p>Your authority(s)
		<code ng-repeat="authority in user.authorities">{{authority.authority | limitTo:999:5}}</code>
	</p>
</div>
<div  ng-show="!authenticated">
	<p>Hi there, guest.</p>
</div>

<!--
<p>Click the links below and see the result.</p>
<div style="margin-bottom: 10px;">
    <button type="button" class="btn btn-info" ng-click="getUserInfo()">/api/whoami</button>
    <button type="button" class="btn btn-info" ng-click="getAllUserInfo()">/api/user/all</button>
</div>
<div class="alert {{responseBoxClass}}" ng-show="serverResponse">
    <b>Server Response:</b>
    <pre>Path: /{{serverResponse.config.url}}</pre>
    <pre>Method: {{serverResponse.config.method}}</pre>
    <pre>Status: {{serverResponse.status}}</pre>
    <pre>Data: {{serverResponse.data}}</pre>
</div>
-->

<table class="table table-striped" ng-show="authenticated">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">username</th>
        <th scope="col">firstname</th>
        <th scope="col">lastname</th>
        <th scope="col">certificate</th>
    </tr>
    </thead>
    <tbody>
        <tr ng-repeat="user in users">
            <th scope="row">{{user.id}}</th>
            <td>{{user.username}}</td>
            <td>{{user.firstName}}</td>
            <td>{{user.lastName}}</td>
            <td><span ng-click="showModal($event)" data-userName={{user.username}} data-toggle="modal" data-target="#DataCertificate"> Ajout d'un certificat <i style="cursor: pointer;" class="fa fa-plus text-primary"></i></span></td>
        </tr>
    </tbody>
</table>


<!-- Modal for add certificate -->
<div ng-controller="CreateCertificateCtrl" class="modal fade" id="DataCertificate" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Create certificate</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="userName" class="form-control-label">UserName</label>
                        <input type="text" class="form-control" id="userName">
                    </div>
                    <div class="form-group">
                        <label class="form-control-label">Date validity</label>
                        <p class="input-group">
                            <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="open1()"><i class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                        </p>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button ng-click="CreateCertificate()" type="button" class="btn btn-primary">Create certificate</button>
            </div>
        </div>
    </div>
</div>